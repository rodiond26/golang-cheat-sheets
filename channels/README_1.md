### Основы работы с каналами

---

#### Канал

- Канал - это ссылка на структуру данных, которая предназначена для передачи данных между горутинами.
- Канал создается с помощью функции make.
- Копируя канал или передавая его функции в качестве аргумента, мы копируем ссылку, поэтому вызывающая и вызываемая
  функции ссылаются на одну и ту же структуру данных.
- Нулевым значением канала является nil, как и в случае с другими ссылочными типами.

#### Объявление канала

```
var ch chan int // Name: [ch]. Value: [<nil>]. Type: [chan int].
```

#### Создание канала

```
ch := make(chan int) // Name: [ch]. Value: [0xc0000018120]. Type: [chan int].
```

#### Создание небуферизованного канала

```
ch = make(chan int)
ch = make(chan int, 0)
```

- Связь по небуферизованному каналу приводит с **синхронизации** операций отправления и получения.
- Небуферизованные каналы называют синхронными.
- Когда значение отправляется в небуферизованный канал, то получение значение предшествует продолжению работы
  отправляющей горутины.

```
// Пример
done := make(chan struct{})
go func () {
  //some code
  done <-struct{}{}
}()
//some code
<-done
```

- Примеры конвейера из небуферизованных каналов:
    - [Конвейер 1](./scripts/case1/convey.go)
    - [Конвейер 2 (более правильная версия)](./scripts/case2/convey.go)

#### Создание 
однонаправленных каналов

- ывпфвапвапвы

#### Создание буферизованного канала

```
ch = make(chan int, 3)
```

#### Отправка значения в канал

```
ch <-x
```

#### Присваивание при получении значения из канала

```
x = <-ch
```

#### Получение значения из канала без его использования

```
<-ch
```

#### Закрытие канала

```
close(ch)
```

- При закрытии канала устанавливается флаг, указывающий, что по этому каналу больше не будут передаваться значения.
- После закрытия канала любые попытки отправки значения в канал завершаются аварийной ситуацией (паникой)
- После закрытия канал возвращает значения до тех пор, пока неполученных значений не останется.
- Далее при получении значений из закрытого канала возвращаются нулевые значения типа данных канала.
